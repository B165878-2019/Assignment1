#!/bin/bash
#Trying to write this script
#
#
echo -e '\n\n#####\n\n HELLO, and welcome to a weeks worth of my life! \n\n####\n\n'
# Ask the user for the path to data file and desired output 
read -p '### Where is your data? (FULL path name)' DATA_FOLDER
echo -e '\n\n'
read -p '### Where would you like the output directory to be created (FULL path name)' OUT
#Run FASTQC on files, send output to FASQC.out, unzip output, show summary, prompt continue y/n
cd $OUT
mkdir -p FASTQC.out
for f in $DATA_FOLDER/*fq.gz;
do
	echo -e "\n\n###\n\n Processing ${f: -14}..... \n\n###\n\n";
	fastqc -o FASTQC.out $f;
#FASTQC finished, now unzip corresponding file, and present category summary to user
filename= ${f: } #FIX THIS TO INCLUDE ONLY THE RELEVANT PART OF THE FILE NAME
	unzip -p $f
	cat "$filename.fastqc/summary.txt"
#prompt for continue after each file
echo 'continue to next file'
case $yn in
		[Yy]* ) continue;;
		[Nn]* ) exit;;
		* ) echo "Answer yes or no.";;
	esac
done < $DATA_FOLDER;
